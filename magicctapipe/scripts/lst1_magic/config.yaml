mc_tel_ids:
    LST-1: 1
    MAGIC-I: 2
    MAGIC-II : 3


LST:
    # The following settings are derived from lstchain v0.9.0:
    # - lstchain_standard_config.json
    # - lstchain/data/lstchain_dl1ab_tune_MC_to_Crab_config.json
    image_extractor:
        type: 'LocalPeakWindowSum'
        window_shift: 4
        window_width: 8

    increase_nsb:
        use: true
        extra_noise_in_dim_pixels: 1.2
        extra_bias_in_dim_pixels: 0.5
        transition_charge: 8
        extra_noise_in_bright_pixels: 1.2

    increase_psf:
        use: true
        smeared_light_fraction: 0.125

    tailcuts_clean:
        picture_thresh: 8
        boundary_thresh: 4
        keep_isolated_pixels: false
        min_number_picture_neighbors: 2
        use_only_main_island: false

    time_delta_cleaning:
        use: true
        min_number_neighbors: 1
        time_limit: 2

    dynamic_cleaning:
        use: true
        threshold: 267
        fraction: 0.03


MAGIC:
    image_extractor:
        type: 'LocalPeakWindowSum'
        window_shift: 2
        window_width: 5

    magic_clean:
        use_time: true
        use_sum: true
        picture_thresh: 6
        boundary_thresh: 3.5
        max_time_off: 7.38
        max_time_diff: 2.46
        find_hotpixels: 'auto'
        pedestal_type: 'from_extractor_rndm'   # must be 'fundamental', 'from_extractor' or 'from_extractor_rndm'


event_coincidence:
    type_lst_time: 'dragon_time'
    window_width: 0.6   # unit: [usec]
    offset_start: -10.0   # unit: [usec]
    offset_stop: 0.0   # unit: [usec]


stereo_reco:
    event_cuts: '(intensity > 50) & (width > 0)'

energy_regressor:
    settings:
        n_estimators: 150
        criterion: 'squared_error'
        max_depth: 50
        min_samples_split: 2
        min_samples_leaf: 2
        min_weight_fraction_leaf: 0.0
        max_features: 'auto'
        max_leaf_nodes: null
        min_impurity_decrease: 0.0
        bootstrap: true
        oob_score: false
        n_jobs: 5
        random_state: 42
        verbose: 0
        warm_start: false
        ccp_alpha: 0.0
        max_samples: null

    features: [
        'intensity',
        'length',
        'width',
        'skewness',
        'kurtosis',
        'slope',
        'intensity_width_2',
        'h_max',
        'impact',
    ]


direction_regressor:
    settings:
        n_estimators: 150
        criterion: 'squared_error'
        max_depth: 50
        min_samples_split: 2
        min_samples_leaf: 2
        min_weight_fraction_leaf: 0.0
        max_features: 'auto'
        max_leaf_nodes: null
        min_impurity_decrease: 0.0
        bootstrap: true
        oob_score: false
        n_jobs: 5
        random_state: 42
        verbose: 0
        warm_start: false
        ccp_alpha: 0.0
        max_samples: null

    features: [
        'intensity',
        'length',
        'width',
        'skewness',
        'kurtosis',
        'slope',
        'intensity_width_2',
        'h_max',
        'impact',
    ]


event_classifier:
    settings:
        n_estimators: 100
        criterion: 'gini'
        max_depth: 100
        min_samples_split: 2
        min_samples_leaf: 2
        min_weight_fraction_leaf: 0.0
        max_features: 'auto'
        max_leaf_nodes: null
        min_impurity_decrease: 0.0
        bootstrap: true
        oob_score: false
        n_jobs: 5
        random_state: 42
        verbose: 0.0
        warm_start: false
        class_weight: null
        ccp_alpha: 0.0
        max_samples: null

    features: [
        'intensity',
        'length',
        'width',
        'skewness',
        'kurtosis',
        'slope',
        'intensity_width_2',
        'h_max',
        'impact',
    ]


create_irf:
    quality_cuts: null
    irf_type: 'software'  # must be 'hardware', 'software' or 'software_with_any2'

    energy_bins:
        start: 0.01   # unit: [TeV]
        stop: 100   # unit: [TeV]
        n_bins: 20

    gammaness:
        cut_type: 'global'   # must be 'global' or 'dynamic'
        global_cut_value: 0.6   # used for the global cut
        gamma_efficiency: 0.95   # used for the dynamic cut

    theta:
        cut_type: 'global'   # must be 'global' or 'dynamic'
        global_cut_value: 0.2   # used for the global cut
        gamma_efficiency: 0.95   # used for the dynamic cut


dl2_to_dl3:
    source_name: 'Crab'